{
    "openapi": "3.0.0",
    "info": {
        "title": "Trasteros API",
        "description": "API para la gesti\u00f3n de trasteros, contratos, clientes y finanzas",
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "/api",
            "description": "API Server"
        }
    ],
    "paths": {
        "/api/auth/login": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Iniciar sesi\u00f3n",
                "description": "Autentica un usuario y devuelve un token JWT",
                "operationId": "post_auth_login",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "admin@trasteros.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login exitoso",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "token": {
                                            "type": "string",
                                            "example": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9..."
                                        },
                                        "user": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "format": "email"
                                                },
                                                "nombre": {
                                                    "type": "string"
                                                },
                                                "rol": {
                                                    "type": "string",
                                                    "enum": [
                                                        "admin",
                                                        "gestor",
                                                        "readonly"
                                                    ]
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Credenciales inv\u00e1lidas",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Usuario inactivo",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/clientes": {
            "get": {
                "tags": [
                    "Clientes"
                ],
                "summary": "Listar clientes",
                "description": "Obtiene la lista de todos los clientes",
                "operationId": "get_clientes_list",
                "parameters": [
                    {
                        "name": "search",
                        "in": "query",
                        "description": "Buscar por nombre o apellidos",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "onlyActivos",
                        "in": "query",
                        "description": "Solo clientes activos",
                        "schema": {
                            "type": "boolean"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de clientes",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Cliente"
                                            }
                                        },
                                        "meta": {
                                            "$ref": "#/components/schemas/PaginatedMeta"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Clientes"
                ],
                "summary": "Crear cliente",
                "description": "Crea un nuevo cliente",
                "operationId": "post_clientes_create",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "nombre",
                                    "apellidos",
                                    "dniNie",
                                    "email",
                                    "telefono"
                                ],
                                "properties": {
                                    "nombre": {
                                        "type": "string",
                                        "example": "Juan"
                                    },
                                    "apellidos": {
                                        "type": "string",
                                        "example": "Garc\u00eda L\u00f3pez"
                                    },
                                    "dniNie": {
                                        "type": "string",
                                        "example": "12345678A"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "telefono": {
                                        "type": "string",
                                        "example": "+34612345678"
                                    },
                                    "activo": {
                                        "type": "boolean",
                                        "default": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Cliente creado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Cliente"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error de validaci\u00f3n",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationError"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "DNI/NIE o email duplicado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/clientes/{id}": {
            "get": {
                "tags": [
                    "Clientes"
                ],
                "summary": "Obtener cliente",
                "description": "Obtiene los datos de un cliente por su ID",
                "operationId": "get_clientes_show",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del cliente",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Cliente encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Cliente"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Cliente no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Clientes"
                ],
                "summary": "Actualizar cliente",
                "description": "Actualiza los datos de un cliente",
                "operationId": "put_clientes_update",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del cliente",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "nombre",
                                    "apellidos",
                                    "dniNie",
                                    "email",
                                    "telefono"
                                ],
                                "properties": {
                                    "nombre": {
                                        "type": "string"
                                    },
                                    "apellidos": {
                                        "type": "string"
                                    },
                                    "dniNie": {
                                        "type": "string"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "telefono": {
                                        "type": "string"
                                    },
                                    "activo": {
                                        "type": "boolean"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Cliente actualizado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Cliente"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error de validaci\u00f3n",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationError"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Cliente no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "DNI/NIE o email duplicado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "Clientes"
                ],
                "summary": "Eliminar cliente",
                "description": "Elimina un cliente",
                "operationId": "delete_clientes_delete",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del cliente",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Cliente eliminado"
                    },
                    "404": {
                        "description": "Cliente no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/contratos": {
            "get": {
                "tags": [
                    "Contratos"
                ],
                "summary": "Listar contratos",
                "description": "Obtiene la lista de todos los contratos",
                "operationId": "get_contratos_list",
                "parameters": [
                    {
                        "name": "estado",
                        "in": "query",
                        "description": "Filtrar por estado",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "activo",
                                "finalizado",
                                "cancelado"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de contratos",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Contrato"
                                            }
                                        },
                                        "meta": {
                                            "$ref": "#/components/schemas/PaginatedMeta"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Contratos"
                ],
                "summary": "Crear contrato",
                "description": "Crea un nuevo contrato",
                "operationId": "post_contratos_create",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "trasteroId",
                                    "clienteId",
                                    "fechaInicio",
                                    "precioMensual"
                                ],
                                "properties": {
                                    "trasteroId": {
                                        "type": "integer"
                                    },
                                    "clienteId": {
                                        "type": "integer"
                                    },
                                    "fechaInicio": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2024-01-01"
                                    },
                                    "fechaFin": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2024-12-31",
                                        "nullable": true
                                    },
                                    "precioMensual": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 50
                                    },
                                    "fianza": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 100,
                                        "nullable": true
                                    },
                                    "fianzaPagada": {
                                        "type": "boolean",
                                        "default": false
                                    },
                                    "estado": {
                                        "type": "string",
                                        "default": "activo",
                                        "enum": [
                                            "activo",
                                            "finalizado",
                                            "cancelado"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Contrato creado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Contrato"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error de validacion",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationError"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Recurso no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Trastero ya alquilado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/contratos/{id}": {
            "get": {
                "tags": [
                    "Contratos"
                ],
                "summary": "Obtener contrato",
                "description": "Obtiene los datos de un contrato por su ID",
                "operationId": "get_contratos_show",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del contrato",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Contrato encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Contrato"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Contrato no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Contratos"
                ],
                "summary": "Actualizar contrato",
                "description": "Actualiza los datos de un contrato",
                "operationId": "put_contratos_update",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del contrato",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "trasteroId",
                                    "clienteId",
                                    "fechaInicio",
                                    "precioMensual"
                                ],
                                "properties": {
                                    "trasteroId": {
                                        "type": "integer"
                                    },
                                    "clienteId": {
                                        "type": "integer"
                                    },
                                    "fechaInicio": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "fechaFin": {
                                        "type": "string",
                                        "format": "date",
                                        "nullable": true
                                    },
                                    "precioMensual": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "fianza": {
                                        "type": "number",
                                        "format": "float",
                                        "nullable": true
                                    },
                                    "fianzaPagada": {
                                        "type": "boolean"
                                    },
                                    "estado": {
                                        "type": "string",
                                        "enum": [
                                            "activo",
                                            "finalizado",
                                            "cancelado"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Contrato actualizado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Contrato"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error de validacion",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationError"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Recurso no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Trastero ya alquilado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "Contratos"
                ],
                "summary": "Eliminar contrato",
                "description": "Elimina un contrato",
                "operationId": "delete_contratos_delete",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del contrato",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Contrato eliminado"
                    },
                    "404": {
                        "description": "Contrato no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/contratos/trastero/{trasteroId}": {
            "get": {
                "tags": [
                    "Contratos"
                ],
                "summary": "Contratos por trastero",
                "description": "Obtiene todos los contratos de un trastero especifico",
                "operationId": "get_contratos_by_trastero",
                "parameters": [
                    {
                        "name": "trasteroId",
                        "in": "path",
                        "description": "ID del trastero",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    },
                    {
                        "name": "onlyActivos",
                        "in": "query",
                        "description": "Solo contratos activos",
                        "schema": {
                            "type": "boolean"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de contratos del trastero",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Contrato"
                                            }
                                        },
                                        "meta": {
                                            "$ref": "#/components/schemas/PaginatedMeta"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/contratos/cliente/{clienteId}": {
            "get": {
                "tags": [
                    "Contratos"
                ],
                "summary": "Contratos por cliente",
                "description": "Obtiene todos los contratos de un cliente especifico",
                "operationId": "get_contratos_by_cliente",
                "parameters": [
                    {
                        "name": "clienteId",
                        "in": "path",
                        "description": "ID del cliente",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    },
                    {
                        "name": "onlyActivos",
                        "in": "query",
                        "description": "Solo contratos activos",
                        "schema": {
                            "type": "boolean"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de contratos del cliente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Contrato"
                                            }
                                        },
                                        "meta": {
                                            "$ref": "#/components/schemas/PaginatedMeta"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/contratos/{id}/finalizar": {
            "patch": {
                "tags": [
                    "Contratos"
                ],
                "summary": "Finalizar contrato",
                "description": "Marca un contrato como finalizado",
                "operationId": "patch_contratos_finalizar",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del contrato",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Contrato finalizado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Contrato"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Contrato no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/contratos/{id}/cancelar": {
            "patch": {
                "tags": [
                    "Contratos"
                ],
                "summary": "Cancelar contrato",
                "description": "Marca un contrato como cancelado",
                "operationId": "patch_contratos_cancelar",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del contrato",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Contrato cancelado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Contrato"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Contrato no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/contratos/{id}/marcar-fianza-pagada": {
            "patch": {
                "tags": [
                    "Contratos"
                ],
                "summary": "Marcar fianza como pagada",
                "description": "Marca la fianza de un contrato como pagada",
                "operationId": "patch_contratos_marcar_fianza_pagada",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del contrato",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Fianza marcada como pagada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Contrato"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Contrato no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/contratos/proximos-vencer": {
            "get": {
                "tags": [
                    "Contratos"
                ],
                "summary": "Contratos proximos a vencer",
                "description": "Obtiene los contratos que vencen en los proximos dias",
                "operationId": "get_contratos_proximos_vencer",
                "parameters": [
                    {
                        "name": "dias",
                        "in": "query",
                        "description": "Numero de dias para el vencimiento (por defecto 30)",
                        "schema": {
                            "type": "integer",
                            "default": 30
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de contratos proximos a vencer",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Contrato"
                                            }
                                        },
                                        "meta": {
                                            "properties": {
                                                "total": {
                                                    "type": "integer"
                                                },
                                                "dias": {
                                                    "type": "integer"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/contratos/fianzas-pendientes": {
            "get": {
                "tags": [
                    "Contratos"
                ],
                "summary": "Contratos con fianzas pendientes",
                "description": "Obtiene los contratos que tienen fianzas pendientes de pago",
                "operationId": "get_contratos_fianzas_pendientes",
                "responses": {
                    "200": {
                        "description": "Lista de contratos con fianzas pendientes",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Contrato"
                                            }
                                        },
                                        "meta": {
                                            "$ref": "#/components/schemas/PaginatedMeta"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/dashboard/stats": {
            "get": {
                "tags": [
                    "Dashboard"
                ],
                "summary": "Estad\u00edsticas del dashboard",
                "description": "Obtiene las estad\u00edsticas generales del negocio: ocupaci\u00f3n, contratos, finanzas del mes",
                "operationId": "get_dashboard_stats",
                "responses": {
                    "200": {
                        "description": "Estad\u00edsticas del dashboard",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/DashboardStats"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/dashboard/rentabilidad": {
            "get": {
                "tags": [
                    "Dashboard"
                ],
                "summary": "Rentabilidad por local",
                "description": "Obtiene el desglose de rentabilidad por cada local: ocupaci\u00f3n, ingresos, gastos y balance",
                "operationId": "get_dashboard_rentabilidad",
                "responses": {
                    "200": {
                        "description": "Rentabilidad por local",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "locales": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "localId": {
                                                        "type": "integer"
                                                    },
                                                    "nombre": {
                                                        "type": "string"
                                                    },
                                                    "trasteros": {
                                                        "properties": {
                                                            "total": {
                                                                "type": "integer"
                                                            },
                                                            "ocupados": {
                                                                "type": "integer"
                                                            },
                                                            "tasaOcupacion": {
                                                                "type": "number"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "financiero": {
                                                        "properties": {
                                                            "ingresosTotales": {
                                                                "type": "number"
                                                            },
                                                            "gastosTotales": {
                                                                "type": "number"
                                                            },
                                                            "balance": {
                                                                "type": "number"
                                                            },
                                                            "ingresosMensualesPotenciales": {
                                                                "type": "number"
                                                            },
                                                            "ingresosMensualesActuales": {
                                                                "type": "number"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/direcciones": {
            "get": {
                "tags": [
                    "Direcciones"
                ],
                "summary": "Listar direcciones",
                "description": "Obtiene la lista de todas las direcciones",
                "operationId": "get_direcciones_list",
                "parameters": [
                    {
                        "name": "ciudad",
                        "in": "query",
                        "description": "Filtrar por ciudad",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "provincia",
                        "in": "query",
                        "description": "Filtrar por provincia",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "codigoPostal",
                        "in": "query",
                        "description": "Filtrar por codigo postal",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "onlyActive",
                        "in": "query",
                        "description": "Solo activas",
                        "schema": {
                            "type": "boolean"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de direcciones",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Direccion"
                                            }
                                        },
                                        "meta": {
                                            "$ref": "#/components/schemas/PaginatedMeta"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Direcciones"
                ],
                "summary": "Crear direccion",
                "description": "Crea una nueva direccion",
                "operationId": "post_direcciones_create",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "nombreVia",
                                    "codigoPostal",
                                    "ciudad",
                                    "provincia",
                                    "pais"
                                ],
                                "properties": {
                                    "tipoVia": {
                                        "type": "string",
                                        "example": "Calle",
                                        "nullable": true
                                    },
                                    "nombreVia": {
                                        "type": "string",
                                        "example": "Gran Via"
                                    },
                                    "numero": {
                                        "type": "string",
                                        "example": "123",
                                        "nullable": true
                                    },
                                    "piso": {
                                        "type": "string",
                                        "example": "2",
                                        "nullable": true
                                    },
                                    "puerta": {
                                        "type": "string",
                                        "example": "A",
                                        "nullable": true
                                    },
                                    "codigoPostal": {
                                        "type": "string",
                                        "example": "28001"
                                    },
                                    "ciudad": {
                                        "type": "string",
                                        "example": "Madrid"
                                    },
                                    "provincia": {
                                        "type": "string",
                                        "example": "Madrid"
                                    },
                                    "pais": {
                                        "type": "string",
                                        "example": "Espana"
                                    },
                                    "latitud": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 40.4168,
                                        "nullable": true
                                    },
                                    "longitud": {
                                        "type": "number",
                                        "format": "float",
                                        "example": -3.7038,
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Direccion creada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Direccion"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error de validacion",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/direcciones/{id}": {
            "get": {
                "tags": [
                    "Direcciones"
                ],
                "summary": "Obtener direccion",
                "description": "Obtiene los datos de una direccion por su ID",
                "operationId": "get_direcciones_show",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID de la direccion",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Direccion encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Direccion"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Direccion no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Direcciones"
                ],
                "summary": "Actualizar direccion",
                "description": "Actualiza los datos de una direccion",
                "operationId": "put_direcciones_update",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID de la direccion",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "nombreVia",
                                    "codigoPostal",
                                    "ciudad",
                                    "provincia",
                                    "pais"
                                ],
                                "properties": {
                                    "tipoVia": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "nombreVia": {
                                        "type": "string"
                                    },
                                    "numero": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "piso": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "puerta": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "codigoPostal": {
                                        "type": "string"
                                    },
                                    "ciudad": {
                                        "type": "string"
                                    },
                                    "provincia": {
                                        "type": "string"
                                    },
                                    "pais": {
                                        "type": "string"
                                    },
                                    "latitud": {
                                        "type": "number",
                                        "format": "float",
                                        "nullable": true
                                    },
                                    "longitud": {
                                        "type": "number",
                                        "format": "float",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Direccion actualizada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Direccion"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error de validacion",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationError"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Direccion no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "Direcciones"
                ],
                "summary": "Eliminar direccion",
                "description": "Elimina una direccion",
                "operationId": "delete_direcciones_delete",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID de la direccion",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Direccion eliminada"
                    },
                    "404": {
                        "description": "Direccion no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/gastos": {
            "get": {
                "tags": [
                    "Gastos"
                ],
                "summary": "Listar gastos",
                "description": "Obtiene la lista de todos los gastos",
                "operationId": "get_gastos_list",
                "parameters": [
                    {
                        "name": "localId",
                        "in": "query",
                        "description": "Filtrar por local",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "categoria",
                        "in": "query",
                        "description": "Filtrar por categoria",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "mantenimiento",
                                "suministros",
                                "impuestos",
                                "seguros",
                                "otros"
                            ]
                        }
                    },
                    {
                        "name": "desde",
                        "in": "query",
                        "description": "Fecha desde (YYYY-MM-DD)",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "hasta",
                        "in": "query",
                        "description": "Fecha hasta (YYYY-MM-DD)",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "onlyActive",
                        "in": "query",
                        "description": "Solo activos",
                        "schema": {
                            "type": "boolean"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de gastos",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Gasto"
                                            }
                                        },
                                        "meta": {
                                            "$ref": "#/components/schemas/PaginatedMeta"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error de validacion",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Gastos"
                ],
                "summary": "Crear gasto",
                "description": "Crea un nuevo gasto",
                "operationId": "post_gastos_create",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "localId",
                                    "concepto",
                                    "importe",
                                    "fecha",
                                    "categoria"
                                ],
                                "properties": {
                                    "localId": {
                                        "type": "integer"
                                    },
                                    "concepto": {
                                        "type": "string",
                                        "example": "Reparacion puerta"
                                    },
                                    "importe": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 150
                                    },
                                    "fecha": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2024-01-15"
                                    },
                                    "categoria": {
                                        "type": "string",
                                        "enum": [
                                            "mantenimiento",
                                            "suministros",
                                            "impuestos",
                                            "seguros",
                                            "otros"
                                        ]
                                    },
                                    "descripcion": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "metodoPago": {
                                        "type": "string",
                                        "enum": [
                                            "efectivo",
                                            "transferencia",
                                            "tarjeta",
                                            "bizum"
                                        ],
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Gasto creado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Gasto"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error de validacion",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/gastos/{id}": {
            "get": {
                "tags": [
                    "Gastos"
                ],
                "summary": "Obtener gasto",
                "description": "Obtiene los datos de un gasto por su ID",
                "operationId": "get_gastos_show",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del gasto",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Gasto encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Gasto"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Gasto no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Gastos"
                ],
                "summary": "Actualizar gasto",
                "description": "Actualiza los datos de un gasto",
                "operationId": "put_gastos_update",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del gasto",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "localId",
                                    "concepto",
                                    "importe",
                                    "fecha",
                                    "categoria"
                                ],
                                "properties": {
                                    "localId": {
                                        "type": "integer"
                                    },
                                    "concepto": {
                                        "type": "string"
                                    },
                                    "importe": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "fecha": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "categoria": {
                                        "type": "string",
                                        "enum": [
                                            "mantenimiento",
                                            "suministros",
                                            "impuestos",
                                            "seguros",
                                            "otros"
                                        ]
                                    },
                                    "descripcion": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "metodoPago": {
                                        "type": "string",
                                        "enum": [
                                            "efectivo",
                                            "transferencia",
                                            "tarjeta",
                                            "bizum"
                                        ],
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Gasto actualizado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Gasto"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error de validacion",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationError"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Gasto no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "Gastos"
                ],
                "summary": "Eliminar gasto",
                "description": "Elimina un gasto",
                "operationId": "delete_gastos_delete",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del gasto",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Gasto eliminado"
                    },
                    "404": {
                        "description": "Gasto no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/gastos/local/{localId}": {
            "get": {
                "tags": [
                    "Gastos"
                ],
                "summary": "Gastos por local",
                "description": "Obtiene todos los gastos de un local especifico",
                "operationId": "get_gastos_by_local",
                "parameters": [
                    {
                        "name": "localId",
                        "in": "path",
                        "description": "ID del local",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de gastos del local",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Gasto"
                                            }
                                        },
                                        "meta": {
                                            "$ref": "#/components/schemas/PaginatedMeta"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/ingresos": {
            "get": {
                "tags": [
                    "Ingresos"
                ],
                "summary": "Listar ingresos",
                "description": "Obtiene la lista de todos los ingresos",
                "operationId": "get_ingresos_list",
                "parameters": [
                    {
                        "name": "contratoId",
                        "in": "query",
                        "description": "Filtrar por contrato",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "categoria",
                        "in": "query",
                        "description": "Filtrar por categoria",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "alquiler",
                                "fianza",
                                "otros"
                            ]
                        }
                    },
                    {
                        "name": "desde",
                        "in": "query",
                        "description": "Fecha desde (YYYY-MM-DD)",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "hasta",
                        "in": "query",
                        "description": "Fecha hasta (YYYY-MM-DD)",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "onlyActive",
                        "in": "query",
                        "description": "Solo activos",
                        "schema": {
                            "type": "boolean"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de ingresos",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Ingreso"
                                            }
                                        },
                                        "meta": {
                                            "$ref": "#/components/schemas/PaginatedMeta"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error de validacion",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Ingresos"
                ],
                "summary": "Crear ingreso",
                "description": "Crea un nuevo ingreso",
                "operationId": "post_ingresos_create",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "contratoId",
                                    "concepto",
                                    "importe",
                                    "fechaPago",
                                    "categoria"
                                ],
                                "properties": {
                                    "contratoId": {
                                        "type": "integer"
                                    },
                                    "concepto": {
                                        "type": "string",
                                        "example": "Alquiler mensual"
                                    },
                                    "importe": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 50
                                    },
                                    "fechaPago": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2024-01-15"
                                    },
                                    "categoria": {
                                        "type": "string",
                                        "enum": [
                                            "alquiler",
                                            "fianza",
                                            "otros"
                                        ]
                                    },
                                    "metodoPago": {
                                        "type": "string",
                                        "enum": [
                                            "efectivo",
                                            "transferencia",
                                            "tarjeta",
                                            "bizum"
                                        ],
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Ingreso creado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Ingreso"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error de validacion",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/ingresos/{id}": {
            "get": {
                "tags": [
                    "Ingresos"
                ],
                "summary": "Obtener ingreso",
                "description": "Obtiene los datos de un ingreso por su ID",
                "operationId": "get_ingresos_show",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del ingreso",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Ingreso encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Ingreso"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Ingreso no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Ingresos"
                ],
                "summary": "Actualizar ingreso",
                "description": "Actualiza los datos de un ingreso",
                "operationId": "put_ingresos_update",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del ingreso",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "contratoId",
                                    "concepto",
                                    "importe",
                                    "fechaPago",
                                    "categoria"
                                ],
                                "properties": {
                                    "contratoId": {
                                        "type": "integer"
                                    },
                                    "concepto": {
                                        "type": "string"
                                    },
                                    "importe": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "fechaPago": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "categoria": {
                                        "type": "string",
                                        "enum": [
                                            "alquiler",
                                            "fianza",
                                            "otros"
                                        ]
                                    },
                                    "metodoPago": {
                                        "type": "string",
                                        "enum": [
                                            "efectivo",
                                            "transferencia",
                                            "tarjeta",
                                            "bizum"
                                        ],
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Ingreso actualizado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Ingreso"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error de validacion",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationError"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Ingreso no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "Ingresos"
                ],
                "summary": "Eliminar ingreso",
                "description": "Elimina un ingreso",
                "operationId": "delete_ingresos_delete",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del ingreso",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Ingreso eliminado"
                    },
                    "404": {
                        "description": "Ingreso no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/ingresos/contrato/{contratoId}": {
            "get": {
                "tags": [
                    "Ingresos"
                ],
                "summary": "Ingresos por contrato",
                "description": "Obtiene todos los ingresos de un contrato especifico",
                "operationId": "get_ingresos_by_contrato",
                "parameters": [
                    {
                        "name": "contratoId",
                        "in": "path",
                        "description": "ID del contrato",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de ingresos del contrato",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Ingreso"
                                            }
                                        },
                                        "meta": {
                                            "$ref": "#/components/schemas/PaginatedMeta"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/ingresos/trastero/{trasteroId}": {
            "get": {
                "tags": [
                    "Ingresos"
                ],
                "summary": "Ingresos por trastero",
                "description": "Obtiene todos los ingresos de un trastero especifico",
                "operationId": "get_ingresos_by_trastero",
                "parameters": [
                    {
                        "name": "trasteroId",
                        "in": "path",
                        "description": "ID del trastero",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de ingresos del trastero",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Ingreso"
                                            }
                                        },
                                        "meta": {
                                            "$ref": "#/components/schemas/PaginatedMeta"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/ingresos/local/{localId}": {
            "get": {
                "tags": [
                    "Ingresos"
                ],
                "summary": "Ingresos por local",
                "description": "Obtiene todos los ingresos de un local especifico",
                "operationId": "get_ingresos_by_local",
                "parameters": [
                    {
                        "name": "localId",
                        "in": "path",
                        "description": "ID del local",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de ingresos del local",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Ingreso"
                                            }
                                        },
                                        "meta": {
                                            "$ref": "#/components/schemas/PaginatedMeta"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/locales": {
            "get": {
                "tags": [
                    "Locales"
                ],
                "summary": "Listar locales",
                "description": "Obtiene la lista de todos los locales",
                "operationId": "get_locales_list",
                "parameters": [
                    {
                        "name": "nombre",
                        "in": "query",
                        "description": "Filtrar por nombre",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "direccionId",
                        "in": "query",
                        "description": "Filtrar por direccion",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "onlyActive",
                        "in": "query",
                        "description": "Solo activos",
                        "schema": {
                            "type": "boolean"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de locales",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Local"
                                            }
                                        },
                                        "meta": {
                                            "$ref": "#/components/schemas/PaginatedMeta"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Locales"
                ],
                "summary": "Crear local",
                "description": "Crea un nuevo local",
                "operationId": "post_locales_create",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "nombre",
                                    "direccionId"
                                ],
                                "properties": {
                                    "nombre": {
                                        "type": "string",
                                        "example": "Local Centro"
                                    },
                                    "direccionId": {
                                        "type": "integer"
                                    },
                                    "superficieTotal": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 500,
                                        "nullable": true
                                    },
                                    "numeroTrasteros": {
                                        "type": "integer",
                                        "example": 20,
                                        "nullable": true
                                    },
                                    "fechaCompra": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2020-01-15",
                                        "nullable": true
                                    },
                                    "precioCompra": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 150000,
                                        "nullable": true
                                    },
                                    "referenciaCatastral": {
                                        "type": "string",
                                        "example": "1234567890123456789A",
                                        "nullable": true
                                    },
                                    "valorCatastral": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 120000,
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Local creado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Local"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error de validacion",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/locales/{id}": {
            "get": {
                "tags": [
                    "Locales"
                ],
                "summary": "Obtener local",
                "description": "Obtiene los datos de un local por su ID",
                "operationId": "get_locales_show",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del local",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Local encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Local"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Local no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Locales"
                ],
                "summary": "Actualizar local",
                "description": "Actualiza los datos de un local",
                "operationId": "put_locales_update",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del local",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "nombre",
                                    "direccionId"
                                ],
                                "properties": {
                                    "nombre": {
                                        "type": "string"
                                    },
                                    "direccionId": {
                                        "type": "integer"
                                    },
                                    "superficieTotal": {
                                        "type": "number",
                                        "format": "float",
                                        "nullable": true
                                    },
                                    "numeroTrasteros": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "fechaCompra": {
                                        "type": "string",
                                        "format": "date",
                                        "nullable": true
                                    },
                                    "precioCompra": {
                                        "type": "number",
                                        "format": "float",
                                        "nullable": true
                                    },
                                    "referenciaCatastral": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "valorCatastral": {
                                        "type": "number",
                                        "format": "float",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Local actualizado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Local"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error de validacion",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationError"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Local no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "Locales"
                ],
                "summary": "Eliminar local",
                "description": "Elimina un local",
                "operationId": "delete_locales_delete",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del local",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Local eliminado"
                    },
                    "404": {
                        "description": "Local no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/prestamos": {
            "get": {
                "tags": [
                    "Prestamos"
                ],
                "summary": "Listar prestamos",
                "description": "Obtiene la lista de todos los prestamos",
                "operationId": "get_prestamos_list",
                "parameters": [
                    {
                        "name": "localId",
                        "in": "query",
                        "description": "Filtrar por local",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "estado",
                        "in": "query",
                        "description": "Filtrar por estado",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "activo",
                                "pagado",
                                "cancelado"
                            ]
                        }
                    },
                    {
                        "name": "entidadBancaria",
                        "in": "query",
                        "description": "Filtrar por entidad bancaria",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "onlyActive",
                        "in": "query",
                        "description": "Solo activos",
                        "schema": {
                            "type": "boolean"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de prestamos",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Prestamo"
                                            }
                                        },
                                        "meta": {
                                            "$ref": "#/components/schemas/PaginatedMeta"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error de validacion",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Prestamos"
                ],
                "summary": "Crear prestamo",
                "description": "Crea un nuevo prestamo",
                "operationId": "post_prestamos_create",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "localId",
                                    "capitalSolicitado",
                                    "totalADevolver",
                                    "fechaConcesion",
                                    "entidadBancaria"
                                ],
                                "properties": {
                                    "localId": {
                                        "type": "integer"
                                    },
                                    "capitalSolicitado": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 50000
                                    },
                                    "totalADevolver": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 55000
                                    },
                                    "fechaConcesion": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2024-01-01"
                                    },
                                    "entidadBancaria": {
                                        "type": "string",
                                        "example": "Banco Santander"
                                    },
                                    "numeroPrestamo": {
                                        "type": "string",
                                        "example": "PREST-001",
                                        "nullable": true
                                    },
                                    "tipoInteres": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 3.5,
                                        "nullable": true
                                    },
                                    "estado": {
                                        "type": "string",
                                        "default": "activo",
                                        "enum": [
                                            "activo",
                                            "pagado",
                                            "cancelado"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Prestamo creado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Prestamo"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error de validacion",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/prestamos/{id}": {
            "get": {
                "tags": [
                    "Prestamos"
                ],
                "summary": "Obtener prestamo",
                "description": "Obtiene los datos de un prestamo por su ID",
                "operationId": "get_prestamos_show",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del prestamo",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Prestamo encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Prestamo"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Prestamo no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Prestamos"
                ],
                "summary": "Actualizar prestamo",
                "description": "Actualiza los datos de un prestamo",
                "operationId": "put_prestamos_update",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del prestamo",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "localId",
                                    "capitalSolicitado",
                                    "totalADevolver",
                                    "fechaConcesion",
                                    "entidadBancaria"
                                ],
                                "properties": {
                                    "localId": {
                                        "type": "integer"
                                    },
                                    "capitalSolicitado": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "totalADevolver": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "fechaConcesion": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "entidadBancaria": {
                                        "type": "string"
                                    },
                                    "numeroPrestamo": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "tipoInteres": {
                                        "type": "number",
                                        "format": "float",
                                        "nullable": true
                                    },
                                    "estado": {
                                        "type": "string",
                                        "enum": [
                                            "activo",
                                            "pagado",
                                            "cancelado"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Prestamo actualizado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Prestamo"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error de validacion",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationError"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Prestamo no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "Prestamos"
                ],
                "summary": "Eliminar prestamo",
                "description": "Elimina un prestamo",
                "operationId": "delete_prestamos_delete",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del prestamo",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Prestamo eliminado"
                    },
                    "404": {
                        "description": "Prestamo no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/prestamos/local/{localId}": {
            "get": {
                "tags": [
                    "Prestamos"
                ],
                "summary": "Prestamos por local",
                "description": "Obtiene todos los prestamos de un local especifico",
                "operationId": "get_prestamos_by_local",
                "parameters": [
                    {
                        "name": "localId",
                        "in": "path",
                        "description": "ID del local",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de prestamos del local",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Prestamo"
                                            }
                                        },
                                        "meta": {
                                            "$ref": "#/components/schemas/PaginatedMeta"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/trasteros": {
            "get": {
                "tags": [
                    "Trasteros"
                ],
                "summary": "Listar trasteros",
                "description": "Obtiene la lista de todos los trasteros",
                "operationId": "get_trasteros_list",
                "parameters": [
                    {
                        "name": "localId",
                        "in": "query",
                        "description": "Filtrar por local",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "estado",
                        "in": "query",
                        "description": "Filtrar por estado",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "disponible",
                                "ocupado",
                                "reservado",
                                "mantenimiento"
                            ]
                        }
                    },
                    {
                        "name": "onlyActive",
                        "in": "query",
                        "description": "Solo activos",
                        "schema": {
                            "type": "boolean"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de trasteros",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Trastero"
                                            }
                                        },
                                        "meta": {
                                            "$ref": "#/components/schemas/PaginatedMeta"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Trasteros"
                ],
                "summary": "Crear trastero",
                "description": "Crea un nuevo trastero",
                "operationId": "post_trasteros_create",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "localId",
                                    "numero",
                                    "superficie",
                                    "precioMensual"
                                ],
                                "properties": {
                                    "localId": {
                                        "type": "integer"
                                    },
                                    "numero": {
                                        "type": "string",
                                        "example": "A-01"
                                    },
                                    "nombre": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "superficie": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 5.5
                                    },
                                    "precioMensual": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 50
                                    },
                                    "estado": {
                                        "type": "string",
                                        "default": "disponible",
                                        "enum": [
                                            "disponible",
                                            "ocupado",
                                            "reservado",
                                            "mantenimiento"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Trastero creado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Trastero"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error de validaci\u00f3n",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationError"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Trastero duplicado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/trasteros/{id}": {
            "get": {
                "tags": [
                    "Trasteros"
                ],
                "summary": "Obtener trastero",
                "description": "Obtiene los datos de un trastero por su ID",
                "operationId": "get_trasteros_show",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del trastero",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Trastero encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Trastero"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Trastero no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Trasteros"
                ],
                "summary": "Actualizar trastero",
                "description": "Actualiza los datos de un trastero",
                "operationId": "put_trasteros_update",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del trastero",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "localId",
                                    "numero",
                                    "superficie",
                                    "precioMensual"
                                ],
                                "properties": {
                                    "localId": {
                                        "type": "integer"
                                    },
                                    "numero": {
                                        "type": "string"
                                    },
                                    "nombre": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "superficie": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "precioMensual": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "estado": {
                                        "type": "string",
                                        "enum": [
                                            "disponible",
                                            "ocupado",
                                            "reservado",
                                            "mantenimiento"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Trastero actualizado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Trastero"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error de validaci\u00f3n",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationError"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Trastero no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Trastero duplicado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "Trasteros"
                ],
                "summary": "Eliminar trastero",
                "description": "Elimina un trastero",
                "operationId": "delete_trasteros_delete",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID del trastero",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Trastero eliminado"
                    },
                    "404": {
                        "description": "Trastero no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/trasteros/local/{localId}": {
            "get": {
                "tags": [
                    "Trasteros"
                ],
                "summary": "Trasteros por local",
                "description": "Obtiene todos los trasteros de un local espec\u00edfico",
                "operationId": "get_trasteros_by_local",
                "parameters": [
                    {
                        "name": "localId",
                        "in": "path",
                        "description": "ID del local",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "pattern": "\\d+"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de trasteros del local",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Trastero"
                                            }
                                        },
                                        "meta": {
                                            "$ref": "#/components/schemas/PaginatedMeta"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/trasteros/disponibles": {
            "get": {
                "tags": [
                    "Trasteros"
                ],
                "summary": "Trasteros disponibles",
                "description": "Obtiene todos los trasteros disponibles para alquilar",
                "operationId": "get_trasteros_disponibles",
                "responses": {
                    "200": {
                        "description": "Lista de trasteros disponibles",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Trastero"
                                            }
                                        },
                                        "meta": {
                                            "$ref": "#/components/schemas/PaginatedMeta"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/users": {
            "get": {
                "tags": [
                    "Users"
                ],
                "summary": "Listar usuarios",
                "description": "Obtiene la lista de todos los usuarios del sistema",
                "operationId": "get_users_list",
                "parameters": [
                    {
                        "name": "activo",
                        "in": "query",
                        "description": "Filtrar por estado activo",
                        "schema": {
                            "type": "boolean"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de usuarios",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/User"
                                            }
                                        },
                                        "meta": {
                                            "$ref": "#/components/schemas/PaginatedMeta"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Users"
                ],
                "summary": "Crear usuario",
                "description": "Crea un nuevo usuario en el sistema",
                "operationId": "post_users_create",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "nombre",
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "nombre": {
                                        "type": "string",
                                        "maxLength": 100,
                                        "example": "Juan Garc\u00eda"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "juan@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "minLength": 6,
                                        "example": "password123"
                                    },
                                    "rol": {
                                        "type": "string",
                                        "default": "gestor",
                                        "enum": [
                                            "admin",
                                            "gestor",
                                            "readonly"
                                        ]
                                    },
                                    "activo": {
                                        "type": "boolean",
                                        "default": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Usuario creado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/User"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error de validaci\u00f3n",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationError"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "El usuario ya existe",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/users/me": {
            "get": {
                "tags": [
                    "Users"
                ],
                "summary": "Obtener usuario actual",
                "description": "Devuelve los datos del usuario autenticado",
                "operationId": "get_users_me",
                "responses": {
                    "200": {
                        "description": "Datos del usuario",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/User"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/users/{id}": {
            "get": {
                "tags": [
                    "Users"
                ],
                "summary": "Obtener usuario",
                "description": "Obtiene los datos de un usuario por su ID",
                "operationId": "get_users_show",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "UUID del usuario",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Usuario encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/User"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Usuario no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Users"
                ],
                "summary": "Actualizar usuario",
                "description": "Actualiza los datos de un usuario existente",
                "operationId": "put_users_update",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "UUID del usuario",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "nombre",
                                    "email"
                                ],
                                "properties": {
                                    "nombre": {
                                        "type": "string",
                                        "maxLength": 100
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "password": {
                                        "type": "string",
                                        "minLength": 6,
                                        "nullable": true
                                    },
                                    "rol": {
                                        "type": "string",
                                        "enum": [
                                            "admin",
                                            "gestor",
                                            "readonly"
                                        ]
                                    },
                                    "activo": {
                                        "type": "boolean"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Usuario actualizado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/User"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error de validaci\u00f3n",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationError"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Usuario no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Email ya en uso",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "Users"
                ],
                "summary": "Eliminar usuario",
                "description": "Elimina un usuario del sistema",
                "operationId": "delete_users_delete",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "UUID del usuario",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Usuario eliminado"
                    },
                    "404": {
                        "description": "Usuario no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "Error": {
                "description": "Formato gen\u00e9rico de error de la API",
                "properties": {
                    "error": {
                        "required": [
                            "message",
                            "code"
                        ],
                        "properties": {
                            "message": {
                                "description": "Mensaje descriptivo del error",
                                "type": "string",
                                "example": "Error description"
                            },
                            "code": {
                                "description": "C\u00f3digo \u00fanico del error para identificaci\u00f3n program\u00e1tica",
                                "type": "string",
                                "example": "ERROR_CODE"
                            },
                            "details": {
                                "description": "Detalles adicionales del error (opcional)",
                                "type": "object",
                                "nullable": true
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "NotFoundError": {
                "description": "Error cuando un recurso no existe. C\u00f3digo sigue el patr\u00f3n {ENTIDAD}_NOT_FOUND",
                "properties": {
                    "error": {
                        "properties": {
                            "message": {
                                "type": "string",
                                "example": "Cliente with id 123 not found"
                            },
                            "code": {
                                "description": "C\u00f3digos posibles: CLIENTE_NOT_FOUND, USER_NOT_FOUND, TRASTERO_NOT_FOUND, CONTRATO_NOT_FOUND, LOCAL_NOT_FOUND, DIRECCION_NOT_FOUND, GASTO_NOT_FOUND, INGRESO_NOT_FOUND, PRESTAMO_NOT_FOUND",
                                "type": "string",
                                "example": "CLIENTE_NOT_FOUND"
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "ConflictError": {
                "description": "Error cuando existe un conflicto (recurso duplicado). C\u00f3digo sigue el patr\u00f3n {ENTIDAD}_ALREADY_EXISTS o VALIDATION_ERROR para duplicados de campos",
                "properties": {
                    "error": {
                        "properties": {
                            "message": {
                                "type": "string",
                                "example": "Email already exists"
                            },
                            "code": {
                                "description": "C\u00f3digos posibles: USER_ALREADY_EXISTS, TRASTERO_ALREADY_EXISTS, VALIDATION_ERROR (para campos duplicados como email, dniNie)",
                                "type": "string",
                                "example": "VALIDATION_ERROR"
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "ValidationError": {
                "description": "Error de validaci\u00f3n de campos. El objeto details contiene los campos inv\u00e1lidos con sus mensajes de error",
                "properties": {
                    "error": {
                        "required": [
                            "message",
                            "code",
                            "details"
                        ],
                        "properties": {
                            "message": {
                                "type": "string",
                                "example": "Validation failed"
                            },
                            "code": {
                                "type": "string",
                                "example": "VALIDATION_ERROR"
                            },
                            "details": {
                                "description": "Campos inv\u00e1lidos. Claves posibles: dniNie, email, telefono, codigoPostal, coordenadas, superficie, precioMensual, trasteroEstado, importe, gastoCategoria, ingresoCategoria, metodoPago, fianza, contratoDate, referenciaCatastral, capitalSolicitado, totalADevolver, tipoInteres, prestamoEstado",
                                "type": "object",
                                "example": {
                                    "dniNie": [
                                        "El DNI/NIE no es v\u00e1lido"
                                    ]
                                },
                                "additionalProperties": {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                }
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "AuthenticationError": {
                "description": "Error de autenticaci\u00f3n (credenciales inv\u00e1lidas)",
                "properties": {
                    "error": {
                        "properties": {
                            "message": {
                                "type": "string",
                                "example": "Invalid credentials"
                            },
                            "code": {
                                "type": "string",
                                "example": "INVALID_CREDENTIALS"
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "ForbiddenError": {
                "description": "Error de acceso denegado (usuario inactivo o sin permisos)",
                "properties": {
                    "error": {
                        "properties": {
                            "message": {
                                "type": "string",
                                "example": "User is inactive"
                            },
                            "code": {
                                "type": "string",
                                "example": "USER_INACTIVE"
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "PaginatedMeta": {
                "properties": {
                    "total": {
                        "type": "integer",
                        "example": 10
                    }
                },
                "type": "object"
            },
            "User": {
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "nombre": {
                        "type": "string",
                        "example": "Juan Garc\u00eda"
                    },
                    "email": {
                        "type": "string",
                        "format": "email"
                    },
                    "rol": {
                        "type": "string",
                        "enum": [
                            "admin",
                            "gestor",
                            "readonly"
                        ]
                    },
                    "activo": {
                        "type": "boolean"
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updatedAt": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            },
            "Cliente": {
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "nombre": {
                        "type": "string",
                        "example": "Juan"
                    },
                    "apellidos": {
                        "type": "string",
                        "example": "Garc\u00eda L\u00f3pez"
                    },
                    "dniNie": {
                        "type": "string",
                        "example": "12345678A"
                    },
                    "email": {
                        "type": "string",
                        "format": "email"
                    },
                    "telefono": {
                        "type": "string",
                        "example": "+34612345678"
                    },
                    "activo": {
                        "type": "boolean"
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updatedAt": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            },
            "Direccion": {
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "tipoVia": {
                        "type": "string",
                        "example": "Calle",
                        "nullable": true
                    },
                    "nombreVia": {
                        "type": "string",
                        "example": "Gran V\u00eda"
                    },
                    "numero": {
                        "type": "string",
                        "example": "123",
                        "nullable": true
                    },
                    "piso": {
                        "type": "string",
                        "example": "2",
                        "nullable": true
                    },
                    "puerta": {
                        "type": "string",
                        "example": "A",
                        "nullable": true
                    },
                    "codigoPostal": {
                        "type": "string",
                        "example": "28001"
                    },
                    "ciudad": {
                        "type": "string",
                        "example": "Madrid"
                    },
                    "provincia": {
                        "type": "string",
                        "example": "Madrid"
                    },
                    "pais": {
                        "type": "string",
                        "example": "Espa\u00f1a"
                    },
                    "latitud": {
                        "type": "number",
                        "format": "float",
                        "nullable": true
                    },
                    "longitud": {
                        "type": "number",
                        "format": "float",
                        "nullable": true
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updatedAt": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            },
            "Local": {
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "nombre": {
                        "type": "string",
                        "example": "Nave Principal"
                    },
                    "direccionId": {
                        "type": "integer"
                    },
                    "superficieTotal": {
                        "type": "number",
                        "format": "float",
                        "example": 500.5
                    },
                    "numeroTrasteros": {
                        "type": "integer",
                        "example": 20
                    },
                    "fechaCompra": {
                        "type": "string",
                        "format": "date",
                        "nullable": true
                    },
                    "precioCompra": {
                        "type": "number",
                        "format": "float",
                        "nullable": true
                    },
                    "referenciaCatastral": {
                        "type": "string",
                        "nullable": true
                    },
                    "valorCatastral": {
                        "type": "number",
                        "format": "float",
                        "nullable": true
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updatedAt": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            },
            "Trastero": {
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "localId": {
                        "type": "integer"
                    },
                    "numero": {
                        "type": "string",
                        "example": "A-01"
                    },
                    "nombre": {
                        "type": "string",
                        "example": "Trastero peque\u00f1o",
                        "nullable": true
                    },
                    "superficie": {
                        "type": "number",
                        "format": "float",
                        "example": 5.5
                    },
                    "precioMensual": {
                        "type": "number",
                        "format": "float",
                        "example": 50
                    },
                    "estado": {
                        "type": "string",
                        "enum": [
                            "disponible",
                            "ocupado",
                            "reservado",
                            "mantenimiento"
                        ]
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updatedAt": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            },
            "Contrato": {
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "trasteroId": {
                        "type": "integer"
                    },
                    "clienteId": {
                        "type": "integer"
                    },
                    "fechaInicio": {
                        "type": "string",
                        "format": "date"
                    },
                    "fechaFin": {
                        "type": "string",
                        "format": "date",
                        "nullable": true
                    },
                    "precioMensual": {
                        "type": "number",
                        "format": "float",
                        "example": 50
                    },
                    "fianza": {
                        "type": "number",
                        "format": "float",
                        "example": 100
                    },
                    "fianzaPagada": {
                        "type": "boolean"
                    },
                    "estado": {
                        "type": "string",
                        "enum": [
                            "activo",
                            "finalizado",
                            "cancelado"
                        ]
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updatedAt": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            },
            "Ingreso": {
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "contratoId": {
                        "type": "integer"
                    },
                    "concepto": {
                        "type": "string",
                        "example": "Mensualidad Enero 2024"
                    },
                    "importe": {
                        "type": "number",
                        "format": "float",
                        "example": 50
                    },
                    "fechaPago": {
                        "type": "string",
                        "format": "date"
                    },
                    "categoria": {
                        "type": "string",
                        "enum": [
                            "alquiler",
                            "fianza",
                            "otros"
                        ]
                    },
                    "metodoPago": {
                        "type": "string",
                        "enum": [
                            "efectivo",
                            "transferencia",
                            "tarjeta",
                            "domiciliacion",
                            "bizum"
                        ]
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updatedAt": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            },
            "Gasto": {
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "localId": {
                        "type": "integer"
                    },
                    "concepto": {
                        "type": "string",
                        "example": "Factura electricidad"
                    },
                    "importe": {
                        "type": "number",
                        "format": "float",
                        "example": 150
                    },
                    "fecha": {
                        "type": "string",
                        "format": "date"
                    },
                    "categoria": {
                        "type": "string",
                        "enum": [
                            "suministros",
                            "mantenimiento",
                            "seguros",
                            "impuestos",
                            "comunidad",
                            "otros"
                        ]
                    },
                    "descripcion": {
                        "type": "string",
                        "nullable": true
                    },
                    "metodoPago": {
                        "type": "string",
                        "enum": [
                            "efectivo",
                            "transferencia",
                            "tarjeta",
                            "domiciliacion",
                            "bizum"
                        ]
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updatedAt": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            },
            "Prestamo": {
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "localId": {
                        "type": "integer"
                    },
                    "capitalSolicitado": {
                        "type": "number",
                        "format": "float",
                        "example": 100000
                    },
                    "totalADevolver": {
                        "type": "number",
                        "format": "float",
                        "example": 120000
                    },
                    "fechaConcesion": {
                        "type": "string",
                        "format": "date"
                    },
                    "entidadBancaria": {
                        "type": "string",
                        "example": "Banco Ejemplo"
                    },
                    "numeroPrestamo": {
                        "type": "string",
                        "example": "PREST-2024-001",
                        "nullable": true
                    },
                    "tipoInteres": {
                        "type": "number",
                        "format": "float",
                        "example": 3.5
                    },
                    "estado": {
                        "type": "string",
                        "enum": [
                            "activo",
                            "pagado",
                            "cancelado"
                        ]
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updatedAt": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            },
            "DashboardStats": {
                "properties": {
                    "trasteros": {
                        "properties": {
                            "total": {
                                "type": "integer"
                            },
                            "disponibles": {
                                "type": "integer"
                            },
                            "ocupados": {
                                "type": "integer"
                            },
                            "tasaOcupacion": {
                                "type": "number",
                                "format": "float"
                            }
                        },
                        "type": "object"
                    },
                    "contratos": {
                        "properties": {
                            "activos": {
                                "type": "integer"
                            },
                            "total": {
                                "type": "integer"
                            },
                            "proximosAVencer": {
                                "type": "integer"
                            },
                            "fianzasPendientes": {
                                "type": "integer"
                            }
                        },
                        "type": "object"
                    },
                    "entidades": {
                        "properties": {
                            "clientes": {
                                "type": "integer"
                            },
                            "locales": {
                                "type": "integer"
                            }
                        },
                        "type": "object"
                    },
                    "financiero": {
                        "properties": {
                            "ingresosMes": {
                                "type": "number",
                                "format": "float"
                            },
                            "gastosMes": {
                                "type": "number",
                                "format": "float"
                            },
                            "balanceMes": {
                                "type": "number",
                                "format": "float"
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "Rentabilidad": {
                "properties": {
                    "localId": {
                        "type": "integer"
                    },
                    "localNombre": {
                        "type": "string"
                    },
                    "ingresosTotales": {
                        "type": "number",
                        "format": "float"
                    },
                    "gastosTotales": {
                        "type": "number",
                        "format": "float"
                    },
                    "beneficioNeto": {
                        "type": "number",
                        "format": "float"
                    },
                    "rentabilidad": {
                        "type": "number",
                        "format": "float"
                    }
                },
                "type": "object"
            },
            "LoginResponse": {
                "properties": {
                    "token": {
                        "type": "string",
                        "example": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9..."
                    },
                    "user": {
                        "$ref": "#/components/schemas/User"
                    }
                },
                "type": "object"
            },
            "LoginRequest": {
                "required": [
                    "email",
                    "password"
                ],
                "properties": {
                    "email": {
                        "type": "string"
                    },
                    "password": {
                        "type": "string"
                    }
                },
                "type": "object"
            },
            "ClienteRequest": {
                "properties": {
                    "nombre": {
                        "type": "string",
                        "default": "",
                        "maxLength": 100
                    },
                    "apellidos": {
                        "type": "string",
                        "default": "",
                        "maxLength": 200
                    },
                    "dniNie": {
                        "type": "string",
                        "default": null,
                        "maxLength": 20,
                        "nullable": true
                    },
                    "email": {
                        "type": "string",
                        "default": null,
                        "maxLength": 255,
                        "nullable": true
                    },
                    "telefono": {
                        "type": "string",
                        "default": null,
                        "maxLength": 20,
                        "nullable": true
                    },
                    "activo": {
                        "type": "boolean",
                        "default": true
                    }
                },
                "type": "object"
            },
            "ContratoRequest": {
                "required": [
                    "trasteroId",
                    "clienteId",
                    "fechaInicio",
                    "precioMensual"
                ],
                "properties": {
                    "trasteroId": {
                        "type": "integer",
                        "minimum": 0,
                        "exclusiveMinimum": true
                    },
                    "clienteId": {
                        "type": "integer",
                        "minimum": 0,
                        "exclusiveMinimum": true
                    },
                    "fechaInicio": {
                        "type": "string"
                    },
                    "precioMensual": {
                        "type": "number",
                        "format": "float",
                        "minimum": 0,
                        "exclusiveMinimum": true
                    },
                    "fechaFin": {
                        "type": "string",
                        "default": null,
                        "nullable": true
                    },
                    "fianza": {
                        "type": "number",
                        "format": "float",
                        "default": null,
                        "minimum": 0,
                        "nullable": true
                    },
                    "fianzaPagada": {
                        "type": "boolean",
                        "default": false
                    },
                    "estado": {
                        "type": "string",
                        "default": "activo",
                        "enum": [
                            "activo",
                            "finalizado",
                            "cancelado",
                            "pendiente"
                        ]
                    }
                },
                "type": "object"
            },
            "DireccionRequest": {
                "properties": {
                    "tipoVia": {
                        "type": "string",
                        "default": null,
                        "maxLength": 50,
                        "nullable": true
                    },
                    "nombreVia": {
                        "type": "string",
                        "default": "",
                        "maxLength": 255
                    },
                    "numero": {
                        "type": "string",
                        "default": null,
                        "maxLength": 10,
                        "nullable": true
                    },
                    "piso": {
                        "type": "string",
                        "default": null,
                        "maxLength": 10,
                        "nullable": true
                    },
                    "puerta": {
                        "type": "string",
                        "default": null,
                        "maxLength": 10,
                        "nullable": true
                    },
                    "codigoPostal": {
                        "type": "string",
                        "default": "",
                        "maxLength": 10
                    },
                    "ciudad": {
                        "type": "string",
                        "default": "",
                        "maxLength": 100
                    },
                    "provincia": {
                        "type": "string",
                        "default": "",
                        "maxLength": 100
                    },
                    "pais": {
                        "type": "string",
                        "default": "Espa\u00f1a",
                        "maxLength": 100
                    },
                    "latitud": {
                        "type": "number",
                        "format": "float",
                        "default": null,
                        "maximum": 90,
                        "minimum": -90,
                        "nullable": true
                    },
                    "longitud": {
                        "type": "number",
                        "format": "float",
                        "default": null,
                        "maximum": 180,
                        "minimum": -180,
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "GastoRequest": {
                "properties": {
                    "localId": {
                        "type": "integer",
                        "default": 0,
                        "minimum": 0,
                        "exclusiveMinimum": true
                    },
                    "concepto": {
                        "type": "string",
                        "default": "",
                        "maxLength": 255
                    },
                    "descripcion": {
                        "type": "string",
                        "default": null,
                        "nullable": true
                    },
                    "importe": {
                        "type": "number",
                        "format": "float",
                        "default": 0,
                        "minimum": 0,
                        "exclusiveMinimum": true
                    },
                    "fecha": {
                        "type": "string",
                        "default": ""
                    },
                    "categoria": {
                        "type": "string",
                        "default": "",
                        "enum": [
                            "suministros",
                            "seguros",
                            "impuestos",
                            "mantenimiento",
                            "prestamo",
                            "gestoria",
                            "otros"
                        ]
                    },
                    "metodoPago": {
                        "type": "string",
                        "default": null,
                        "enum": [
                            "efectivo",
                            "transferencia",
                            "tarjeta",
                            "domiciliacion"
                        ],
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "IngresoRequest": {
                "properties": {
                    "contratoId": {
                        "type": "integer",
                        "default": 0,
                        "minimum": 0,
                        "exclusiveMinimum": true
                    },
                    "concepto": {
                        "type": "string",
                        "default": "",
                        "maxLength": 255
                    },
                    "importe": {
                        "type": "number",
                        "format": "float",
                        "default": 0,
                        "minimum": 0,
                        "exclusiveMinimum": true
                    },
                    "fechaPago": {
                        "type": "string",
                        "default": ""
                    },
                    "metodoPago": {
                        "type": "string",
                        "default": null,
                        "enum": [
                            "efectivo",
                            "transferencia",
                            "tarjeta",
                            "bizum"
                        ],
                        "nullable": true
                    },
                    "categoria": {
                        "type": "string",
                        "default": "mensualidad",
                        "enum": [
                            "mensualidad",
                            "fianza",
                            "penalizacion",
                            "otros"
                        ]
                    }
                },
                "type": "object"
            },
            "LocalRequest": {
                "properties": {
                    "nombre": {
                        "type": "string",
                        "default": "",
                        "maxLength": 255
                    },
                    "direccionId": {
                        "type": "integer",
                        "default": 0,
                        "minimum": 0,
                        "exclusiveMinimum": true
                    },
                    "superficieTotal": {
                        "type": "number",
                        "format": "float",
                        "default": null,
                        "minimum": 0,
                        "exclusiveMinimum": true,
                        "nullable": true
                    },
                    "numeroTrasteros": {
                        "type": "integer",
                        "default": null,
                        "minimum": 0,
                        "exclusiveMinimum": true,
                        "nullable": true
                    },
                    "fechaCompra": {
                        "type": "string",
                        "default": null,
                        "nullable": true
                    },
                    "precioCompra": {
                        "type": "number",
                        "format": "float",
                        "default": null,
                        "minimum": 0,
                        "exclusiveMinimum": true,
                        "nullable": true
                    },
                    "referenciaCatastral": {
                        "type": "string",
                        "default": null,
                        "maxLength": 50,
                        "nullable": true
                    },
                    "valorCatastral": {
                        "type": "number",
                        "format": "float",
                        "default": null,
                        "minimum": 0,
                        "exclusiveMinimum": true,
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "PrestamoRequest": {
                "properties": {
                    "localId": {
                        "type": "integer",
                        "default": 0,
                        "minimum": 0,
                        "exclusiveMinimum": true
                    },
                    "entidadBancaria": {
                        "type": "string",
                        "default": null,
                        "maxLength": 255,
                        "nullable": true
                    },
                    "numeroPrestamo": {
                        "type": "string",
                        "default": null,
                        "maxLength": 100,
                        "nullable": true
                    },
                    "capitalSolicitado": {
                        "type": "number",
                        "format": "float",
                        "default": 0,
                        "minimum": 0,
                        "exclusiveMinimum": true
                    },
                    "totalADevolver": {
                        "type": "number",
                        "format": "float",
                        "default": 0,
                        "minimum": 0,
                        "exclusiveMinimum": true
                    },
                    "tipoInteres": {
                        "type": "number",
                        "format": "float",
                        "default": null,
                        "minimum": 0,
                        "nullable": true
                    },
                    "fechaConcesion": {
                        "type": "string",
                        "default": ""
                    },
                    "estado": {
                        "type": "string",
                        "default": "activo",
                        "enum": [
                            "activo",
                            "cancelado",
                            "finalizado"
                        ]
                    }
                },
                "type": "object"
            },
            "TrasteroRequest": {
                "properties": {
                    "localId": {
                        "type": "integer",
                        "default": 0,
                        "minimum": 0,
                        "exclusiveMinimum": true
                    },
                    "numero": {
                        "type": "string",
                        "default": "",
                        "maxLength": 20
                    },
                    "nombre": {
                        "type": "string",
                        "default": null,
                        "maxLength": 100,
                        "nullable": true
                    },
                    "superficie": {
                        "type": "number",
                        "format": "float",
                        "default": 0,
                        "minimum": 0,
                        "exclusiveMinimum": true
                    },
                    "precioMensual": {
                        "type": "number",
                        "format": "float",
                        "default": 0,
                        "minimum": 0
                    },
                    "estado": {
                        "type": "string",
                        "default": "disponible",
                        "enum": [
                            "disponible",
                            "ocupado",
                            "mantenimiento",
                            "reservado"
                        ]
                    }
                },
                "type": "object"
            },
            "UserRequest": {
                "required": [
                    "nombre",
                    "email"
                ],
                "properties": {
                    "nombre": {
                        "type": "string",
                        "maxLength": 100
                    },
                    "email": {
                        "type": "string"
                    },
                    "password": {
                        "type": "string",
                        "default": null,
                        "minLength": 6,
                        "nullable": true
                    },
                    "rol": {
                        "type": "string",
                        "default": "gestor",
                        "enum": [
                            "admin",
                            "gestor",
                            "readonly"
                        ]
                    },
                    "activo": {
                        "type": "boolean",
                        "default": true
                    }
                },
                "type": "object"
            }
        },
        "securitySchemes": {
            "Bearer": {
                "type": "http",
                "description": "JWT Authorization header usando el esquema Bearer. Ejemplo: \"Authorization: Bearer {token}\"",
                "bearerFormat": "JWT",
                "scheme": "bearer"
            }
        }
    },
    "security": [
        {
            "Bearer": []
        }
    ],
    "tags": [
        {
            "name": "Auth",
            "description": "Autenticaci\u00f3n y gesti\u00f3n de sesi\u00f3n"
        },
        {
            "name": "Users",
            "description": "Gesti\u00f3n de usuarios del sistema"
        },
        {
            "name": "Clientes",
            "description": "Gesti\u00f3n de clientes"
        },
        {
            "name": "Locales",
            "description": "Gesti\u00f3n de locales/naves"
        },
        {
            "name": "Trasteros",
            "description": "Gesti\u00f3n de trasteros"
        },
        {
            "name": "Contratos",
            "description": "Gesti\u00f3n de contratos de alquiler"
        },
        {
            "name": "Ingresos",
            "description": "Gesti\u00f3n de ingresos"
        },
        {
            "name": "Gastos",
            "description": "Gesti\u00f3n de gastos"
        },
        {
            "name": "Prestamos",
            "description": "Gesti\u00f3n de pr\u00e9stamos"
        },
        {
            "name": "Direcciones",
            "description": "Gesti\u00f3n de direcciones"
        },
        {
            "name": "Dashboard",
            "description": "Estad\u00edsticas y reportes"
        }
    ]
}
